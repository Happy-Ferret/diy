<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>DIY: Communication</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DIY
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">data-parallel out-of-core C++ library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Communication</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>DIY currently supports two communication patterns: neighborhood exchange and reduction.</p>
<h2>Neighborhood Exchange </h2>
<p>The basic building block of communication is the neighborhood. This is a local collection of edges in a communication graph from the current block to other blocks; information is exchanged over these edges. In DIY, the <em>communication proxy</em> is the object that encapsulates the neighborhood. The communication proxy includes the <em>link</em>, which is the collection of edges to the neighboring blocks. This size of the link is the number of edges. In the communication proxy, <em>link-&gt;target[i]</em> is the block connected to the ith edge. Edges can be added or removed dynamically. Data can be enqueued to and dequeued from any target in the link as desired, and then all enqueued data are exchanged over the link in one step.</p>
<h2>Reduction </h2>
<p>DIY supports general reductions to implement complex global operations over blocks. These reductions are general-purpose (any global communication pattern can be implemented); they operate over blocks, which cycle in and out of core as necessary; the operations are (multi-)threaded automatically using the same mechanism as <a class="el" href="classdiy_1_1_master.html#a99badfe62db24446c4b23a7830fce05c">foreach()</a>. Although any global communication can be expressed using the reduction mechanism, all the reductions included in DIY operate in rounds over a k-ary reduction tree. The value of k used in each round can vary, but if it's fixed, the number of rounds is log_k(nblocks).</p>
<p>The following patterns are currently available.</p>
<ul>
<li>merge-reduce<ul>
<li>create <code><a class="el" href="structdiy_1_1_regular_merge_partners.html" title="Partners for merge-reduce. ">diy::RegularMergePartners</a></code></li>
<li>call <code><a class="el" href="group___communication.html#ga4254d5b9c3e97e5d5d73dd019023257f" title="Implementation of the reduce communication pattern (includes swap-reduce, merge-reduce, and any other global communication). ">diy::reduce</a></code></li>
<li><a class="el" href="reduce_2merge-reduce_8cpp-example.html">see the example here</a></li>
</ul>
</li>
<li>swap-reduce<ul>
<li>create <code><a class="el" href="structdiy_1_1_regular_swap_partners.html" title="Partners for swap-reduce. ">diy::RegularSwapPartners</a></code></li>
<li>call <code><a class="el" href="group___communication.html#ga4254d5b9c3e97e5d5d73dd019023257f" title="Implementation of the reduce communication pattern (includes swap-reduce, merge-reduce, and any other global communication). ">diy::reduce</a></code></li>
<li><a class="el" href="reduce_2swap-reduce_8cpp-example.html">see the example here</a></li>
</ul>
</li>
<li>all-reduce<ul>
<li>create <code><a class="el" href="structdiy_1_1_regular_all_reduce_partners.html" title="Allreduce (reduction with results broadcasted to all blocks) is implemented as two merge reductions...">diy::RegularAllReducePartners</a></code></li>
<li>call <code><a class="el" href="group___communication.html#ga4254d5b9c3e97e5d5d73dd019023257f" title="Implementation of the reduce communication pattern (includes swap-reduce, merge-reduce, and any other global communication). ">diy::reduce</a></code></li>
</ul>
</li>
<li>all-to-all<ul>
<li>call <code>diy:all_to_all</code></li>
<li><a class="el" href="reduce_2all-to-all_8cpp-example.html">see the example here</a> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdiy_1_1_regular_all_reduce_partners.html">diy::RegularAllReducePartners</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allreduce (reduction with results broadcasted to all blocks) is implemented as two merge reductions, with incoming and outgoing items swapped in second one. Ie, follows merge reduction up and down the merge tree.  <a href="structdiy_1_1_regular_all_reduce_partners.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdiy_1_1_regular_merge_partners.html">diy::RegularMergePartners</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partners for merge-reduce.  <a href="structdiy_1_1_regular_merge_partners.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdiy_1_1_regular_swap_partners.html">diy::RegularSwapPartners</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partners for swap-reduce.  <a href="structdiy_1_1_regular_swap_partners.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3dfb1bdb9c078d9f18fc6953295a0208"><td class="memTemplParams" colspan="2">template&lt;class Op &gt; </td></tr>
<tr class="memitem:ga3dfb1bdb9c078d9f18fc6953295a0208"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group___communication.html#ga3dfb1bdb9c078d9f18fc6953295a0208">diy::all_to_all</a> (Master &amp;master, const Assigner &amp;assigner, const Op &amp;op, int k=2)</td></tr>
<tr class="memdesc:ga3dfb1bdb9c078d9f18fc6953295a0208"><td class="mdescLeft">&#160;</td><td class="mdescRight">all to all reduction  <a href="#ga3dfb1bdb9c078d9f18fc6953295a0208">More...</a><br /></td></tr>
<tr class="separator:ga3dfb1bdb9c078d9f18fc6953295a0208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4254d5b9c3e97e5d5d73dd019023257f"><td class="memTemplParams" colspan="2"><a class="anchor" id="ga4254d5b9c3e97e5d5d73dd019023257f"></a>
template&lt;class Reduce , class Partners , class Skip &gt; </td></tr>
<tr class="memitem:ga4254d5b9c3e97e5d5d73dd019023257f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group___communication.html#ga4254d5b9c3e97e5d5d73dd019023257f">diy::reduce</a> (Master &amp;master, const Assigner &amp;assigner, const Partners &amp;partners, const Reduce &amp;reduce, const Skip &amp;skip)</td></tr>
<tr class="memdesc:ga4254d5b9c3e97e5d5d73dd019023257f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the reduce communication pattern (includes swap-reduce, merge-reduce, and any other global communication). <br /></td></tr>
<tr class="separator:ga4254d5b9c3e97e5d5d73dd019023257f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3dfb1bdb9c078d9f18fc6953295a0208"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Op &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void diy::all_to_all </td>
          <td>(</td>
          <td class="paramtype">Master &amp;&#160;</td>
          <td class="paramname"><em>master</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Assigner &amp;&#160;</td>
          <td class="paramname"><em>assigner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Op &amp;&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>all to all reduction </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">master</td><td>block owner </td></tr>
    <tr><td class="paramname">assigner</td><td>global block locator (maps gid to proc) </td></tr>
    <tr><td class="paramname">op</td><td>user-defined operation called to enqueue and dequeue items </td></tr>
    <tr><td class="paramname">k</td><td>reduction fanout </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="reduce_2all-done_8cpp-example.html#a23">reduce/all-done.cpp</a>, <a class="el" href="reduce_2all-to-all_8cpp-example.html#a25">reduce/all-to-all.cpp</a>, and <a class="el" href="reduce_2kd-tree_8cpp-example.html#a31">reduce/kd-tree.cpp</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 22 2016 10:17:34 for DIY by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
